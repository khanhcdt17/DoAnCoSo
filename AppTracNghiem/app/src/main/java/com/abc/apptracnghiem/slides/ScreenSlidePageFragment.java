package com.abc.apptracnghiem.slides;import android.graphics.Color;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import android.util.Log;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.RadioButton;import android.widget.RadioGroup;import android.widget.TextView;import com.abc.apptracnghiem.Question.Question;import com.abc.apptracnghiem.R;import java.util.ArrayList;/** * A simple {@link Fragment} subclass. */public class ScreenSlidePageFragment extends Fragment {    public static final String ARG_PAGE = "page";    public static final String ARG_CHECK_ANSWER = "check_answer";    private int mPageNumber; // vi tri trang hien tai    public int checkAnswer;//bien kiem tra    ArrayList<Question> questions;    TextView tvNum, tvQuestion;    RadioGroup radioGroup;    RadioButton radA, radB, radC, radD;    public ScreenSlidePageFragment() {        // Required empty public constructor    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        // Inflate the layout for this fragment        ViewGroup rootView = (ViewGroup) inflater.inflate(                R.layout.fragment_screen_slide_page, container, false);        tvNum = rootView.findViewById(R.id.tvNum);        tvQuestion = rootView.findViewById(R.id.tvQuestion);        radA = rootView.findViewById(R.id.radA);        radB = rootView.findViewById(R.id.radB);        radC = rootView.findViewById(R.id.radC);        radD = rootView.findViewById(R.id.radD);        radioGroup = rootView.findViewById(R.id.radGroup);        return rootView;    }    @Override    public void onCreate(@Nullable Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        questions = new ArrayList<>();        ScreenSlideActivity screenSlideActivity = (ScreenSlideActivity) getActivity();        questions = screenSlideActivity.getData();        mPageNumber = getArguments().getInt(ARG_PAGE);        checkAnswer = getArguments().getInt((ARG_CHECK_ANSWER));    }    @Override    public void onActivityCreated(@Nullable Bundle savedInstanceState) {        super.onActivityCreated(savedInstanceState);        tvNum.setText("Question " + (mPageNumber + 1));        tvQuestion.setText(questions.get(mPageNumber).getQuestion());        radA.setText("A. " + questions.get(mPageNumber).getAns_a());        radB.setText("B. " + questions.get(mPageNumber).getAns_b());        radC.setText("C. " + questions.get(mPageNumber).getAns_c());        radD.setText("D. " + questions.get(mPageNumber).getAns_d());        if (checkAnswer!=0){            radA.setClickable(false);            radB.setClickable(false);            radC.setClickable(false);            radD.setClickable(false);            getCheckAnswer(getItem(mPageNumber).getResult());           // Log.d("KQ",getItem(mPageNumber).getResult());        }        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {            @Override            public void onCheckedChanged(RadioGroup group, int checkedId) {                questions.get(mPageNumber).choiceId = checkedId;                questions.get(mPageNumber).setAnswer(getChoiceFromID(checkedId));            }        });    }    public static ScreenSlidePageFragment create(int pageNumber, int checkAnswer) {        ScreenSlidePageFragment fragment = new ScreenSlidePageFragment();        Bundle bundle = new Bundle();        bundle.putInt(ARG_PAGE, pageNumber);        bundle.putInt(ARG_CHECK_ANSWER, checkAnswer);        fragment.setArguments(bundle);        return fragment;    }    public Question getItem(int posotion){        return questions.get(posotion);    }    //Lay dap an theo vi tri    private String getChoiceFromID(int id) {        if (id == R.id.radA) return "A";        if (id == R.id.radB) return "B";        if (id == R.id.radC) return "C";        if (id == R.id.radD) return "D";        return "";    }    //ham kiem tra cau dung    private void getCheckAnswer(String ans) {        if (ans.equals("a")==true) {            radA.setBackgroundColor(Color.BLUE);        } else if (ans.equals("b")==true) {            radB.setBackgroundColor(Color.BLUE);        } else if (ans.equals("c")==true) {            radC.setBackgroundColor(Color.BLUE);        } else if (ans.equals("d")==true) {            radD.setBackgroundColor(Color.BLUE);        }    }}